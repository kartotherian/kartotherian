<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Quick Start Guide Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="leaflet/leaflet.css" />
</head>
<body>
	<style>
	#zoom-level {
	  margin: 10px;
	  padding: 10px;
	  position: absolute;
	  right: 0;
	  top:0;
	  z-index: 1000;
	  background: #ddd;
	}
	</style>

	<div id="map" style="width: 100%; height: 900px"></div>
	<div id='zoom-level'>Zoom Level: 7</div>

	<script src="leaflet/leaflet.js"></script>
	<script src="lib/leaflet-hash.js"></script>
	<script>

		var match = location.search.match(/s=([^&\/]*)/);
		var style = (match && match[1]) || 'osm';

		var map = L.map('map').setView([42.828,5.328], 7);
//		L.tileLayer('/r/{z}/{x}/{y}.png', {
//			maxZoom: 9,
//			attribution: 'Made with <a href="http://www.naturalearthdata.com">Natural Earth</a>',
//			id: 'raster'
//		}).addTo(map);
		L.tileLayer('/' + style + '/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
			id: 'wikipedia-map-01'
		}).addTo(map);

		// L.control.attribution({prefix:false}).addTo(map);

		var popup = L.popup();

		// function onMapClick(e) {
		// 	popup
		// 		.setLatLng(e.latlng)
		// 		.setContent("You clicked the map at " + e.latlng.toString())
		// 		.openOn(map);
		// }

		// map.on('click', onMapClick);
		map.on('zoomend', function(){
		    document.getElementById('zoom-level').innerHTML = 'Zoom Level: ' + map.getZoom();
		});

		var hash = new L.Hash(map);
	</script>
</body>
</html>
